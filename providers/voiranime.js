/**
 * voiranime - Built from src/voiranime/
 * Generated: 2026-02-27T23:19:14.787Z
 */
var Q=Object.create;var j=Object.defineProperty,X=Object.defineProperties,tt=Object.getOwnPropertyDescriptor,et=Object.getOwnPropertyDescriptors,st=Object.getOwnPropertyNames,P=Object.getOwnPropertySymbols,rt=Object.getPrototypeOf,H=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable;var W=(t,s,e)=>s in t?j(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,w=(t,s)=>{for(var e in s||(s={}))H.call(s,e)&&W(t,e,s[e]);if(P)for(var e of P(s))nt.call(s,e)&&W(t,e,s[e]);return t},S=(t,s)=>X(t,et(s));var it=(t,s,e,r)=>{if(s&&typeof s=="object"||typeof s=="function")for(let n of st(s))!H.call(t,n)&&n!==e&&j(t,n,{get:()=>s[n],enumerable:!(r=tt(s,n))||r.enumerable});return t};var at=(t,s,e)=>(e=t!=null?Q(rt(t)):{},it(s||!t||!t.__esModule?j(e,"default",{value:t,enumerable:!0}):e,t));var h=(t,s,e)=>new Promise((r,n)=>{var i=c=>{try{l(e.next(c))}catch(f){n(f)}},o=c=>{try{l(e.throw(c))}catch(f){n(f)}},l=c=>c.done?r(c.value):Promise.resolve(c.value).then(i,o);l((e=e.apply(t,s)).next())});var ot={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","Accept-Language":"fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","Cache-Control":"max-age=0",Connection:"keep-alive"};function E(e){return h(this,arguments,function*(t,s={}){console.log(`[VoirAnime] Fetching: ${t}`);let r=yield fetch(t,w({headers:w(w({},ot),s.headers)},s));if(!r.ok)throw new Error(`HTTP error ${r.status} for ${t}`);return yield r.text()})}var q=at(require("cheerio-without-node-native"));var ct={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36"},N=t=>{try{return typeof atob=="function"?atob(t):Buffer.from(t,"base64").toString("binary")}catch(s){return t}};function x(e){return h(this,arguments,function*(t,s={}){let r,n;try{r=new AbortController,n=setTimeout(()=>r.abort(),1e4);let i=yield fetch(t,S(w({},s),{headers:w(w({},ct),s.headers),redirect:"follow",signal:r.signal}));if(clearTimeout(n),!i.ok)return null;let o=yield i.text();return{text:()=>Promise.resolve(o),ok:!0,url:i.url,headers:i.headers}}catch(i){return n&&clearTimeout(n),null}})}function C(t){try{if(!t.includes("p,a,c,k,e,d"))return t;let s=new RegExp("eval\\s*\\(\\s*function\\s*\\(\\s*p\\s*,\\s*a\\s*,\\s*c\\s*,\\s*k\\s*,\\s*e\\s*,\\s*d\\s*\\).*?\\}\\s*\\((.*?)\\)\\s*\\)","gs"),e=t,r;for(;(r=s.exec(t))!==null;)try{let i=r[1].match(new RegExp("^'(.*?)',\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*'(.*?)'\\.split\\('\\|'\\)","s"));if(!i)continue;let o=i[1].replace(/\\'/g,"'"),l=parseInt(i[2]),c=parseInt(i[3]),f=i[4].split("|"),a=d=>(d<l?"":a(parseInt(d/l)))+((d=d%l)>35?String.fromCharCode(d+29):d.toString(36)),m={};for(;c--;)m[a(c)]=f[c]||a(c);let y=o.replace(/\b\w+\b/g,d=>m[d]||d);e=e.replace(r[0],y)}catch(n){}return e}catch(s){return t}}function lt(t){return h(this,null,function*(){try{let s=yield x(t,{headers:{Referer:"https://video.sibnet.ru/"}});if(!s)return{url:t};let e=yield s.text(),r=e.match(/file\s*:\s*["']([^"']*\.mp4[^"']*)['"]/i)||e.match(/src\s*:\s*["']([^"']*\.mp4[^"']*)['"]/i)||e.match(/["']((?:https?:)?\/\/[^"'\s]+\.mp4[^"'\s]*)["']/i);if(r){let n=r[1];return n.startsWith("//")?n="https:"+n:n.startsWith("/")&&(n="https://video.sibnet.ru"+n),{url:n,headers:{Referer:"https://video.sibnet.ru/"}}}}catch(s){}return{url:t}})}function ut(t){return h(this,null,function*(){try{let s=t.replace(/vidmoly\.(net|to|ru|is)/,"vidmoly.me"),e={Referer:"https://vidmoly.me/",Origin:"https://vidmoly.me"},r=yield x(s,{headers:e});if(!r)return{url:t};let n=yield r.text(),i=n.match(/window\.location\.replace\(['"]([^'"]+)['"]\)/)||n.match(/window\.location\.href\s*=\s*['"]([^'"]+)['"]/);i&&i[1]!==s&&(r=yield x(i[1],{headers:e}),r&&(n=yield r.text())),n.includes("eval(function(p,a,c,k,e,d)")&&(n=C(n));let o=n.match(/file\s*:\s*["']([^"']+\.(?:m3u8|mp4)[^"']*)["']/i)||n.match(/["'](https?:\/\/[^"']+\.(?:m3u8|mp4)[^"']*)["']/i);if(o)return{url:o[1],headers:{Referer:"https://vidmoly.me/"}}}catch(s){}return{url:t}})}function ft(t){return h(this,null,function*(){let s=t.replace(/^https?:\/\/[^/]+/,""),e=["uqload.is","uqload.co","uqload.com","uqload.io","uqloads.xyz","uqload.to"],r="https://uqload.is/";for(let n of e)try{let i=`https://${n}${s}`,o=yield x(i,{headers:{Referer:r}});if(!o)continue;let l=yield o.text(),c=l.match(/sources\s*:\s*\[["']([^"']+\.(?:mp4|m3u8))["']\]/)||l.match(/file\s*:\s*["']([^"']+\.(?:mp4|m3u8))["']/);if(c)return{url:c[1],headers:{Referer:r}}}catch(i){}return{url:t}})}function mt(t){return h(this,null,function*(){try{let s=yield x(t);if(!s)return{url:t};let e=yield s.text(),r=e.match(/window\.location\.href\s*=\s*['"]([^'"]+)['"]/);if(r){let i=yield x(r[1]);i&&(e=yield i.text())}let n=e.match(/'hls'\s*:\s*'([^']+)'/)||e.match(/"hls"\s*:\s*"([^"]+)"/)||e.match(/https?:\/\/[^"']+\.m3u8[^"']*/);if(n){let i=n[1]||n[0];return i.includes("base64")&&(i=N(i.split(",")[1]||i)),{url:i,headers:{Referer:t}}}}catch(s){}return{url:t}})}function ht(t){return h(this,null,function*(){try{let s=yield x(t);if(!s)return{url:t};let e=yield s.text();e.includes("p,a,c,k,e,d")&&(e=C(e));let r=e.match(/robotlink['"]\)\.innerHTML\s*=\s*['"]([^'"]+)['"]\s*\+\s*([^;]+)/);if(r){let n="https:"+r[1],i=r[2].split("+");for(let o of i){let l=o.match(/['"]([^'"]+)['"]/);if(l){let c=l[1],f=o.match(/substring\((\d+)\)/);f&&(c=c.substring(parseInt(f[1]))),n+=c}}return{url:n,headers:{Referer:"https://streamtape.com/"}}}}catch(s){}return{url:t}})}function dt(t){return h(this,null,function*(){try{let s=t.includes("/embed/")?t:t.replace(/sendvid\.com\/([a-z0-9]+)/i,"sendvid.com/embed/$1"),e=yield x(s,{headers:{Referer:"https://sendvid.com/"}});if(!e)return{url:t};let r=yield e.text(),n=r.match(/video_source\s*:\s*["']([^"']+\.mp4[^"']*)["|']/)||r.match(/source\s+src=["']([^"']+\.mp4[^"']*)["|']/)||r.match(/<source[^>]+src=["']([^"']+\.(?:mp4|m3u8)[^"']*)["']/)||r.match(/file\s*:\s*["']([^"']+\.(?:mp4|m3u8)[^"']*)["|']/)||r.match(/["'](https?:\/\/[^"']+\.mp4[^"']*)["']/);if(n)return{url:n[1],headers:{Referer:"https://sendvid.com/"}}}catch(s){}return{url:t}})}function pt(t){return h(this,null,function*(){try{let s=yield x(t);if(!s)return{url:t};let e=yield s.text();e.includes("p,a,c,k,e,d")&&(e=C(e));let r=e.match(/sources\s*:\s*\[["']([^"']+\.(?:m3u8|mp4)[^"']*)["']\]/)||e.match(/file\s*:\s*["']([^"']+\.(?:m3u8|mp4)[^"']*)["']/);if(r){let n=r[1];return n.includes("base64")&&(n=N(n.split(",")[1]||n)),{url:n,headers:{Referer:t}}}}catch(s){}return{url:t}})}function wt(t){return h(this,null,function*(){try{let s=yield x(t);if(!s)return{url:t};let r=(yield s.text()).match(/["'](https?:\/\/[^"']+\.m3u8[^"']*)["']/);if(r)return{url:r[1],headers:{Referer:t}}}catch(s){}return{url:t}})}function gt(t){return h(this,null,function*(){var s;try{let e=((s=t.match(/https?:\/\/([^\/]+)/))==null?void 0:s[1])||"dood.to",r=yield x(t);if(!r)return{url:t};let n=yield r.text();n.includes("eval(function(p,a,c,k,e,d)")&&(n=C(n));let i=n.match(/\$\.get\(['"]\/pass_md5\/([^'"]+)['"]/);if(i){let o=i[1],l=`https://${e}/pass_md5/${o}`,c=yield fetch(l,{headers:{Referer:t}});if(c.ok){let f=yield c.text(),a=Math.random().toString(36).substring(2,12);return{url:f+a+"?token="+o+"&expiry="+Date.now(),headers:{Referer:`https://${e}/`}}}}}catch(e){}return{url:t}})}function $t(t){return h(this,null,function*(){try{let s=yield x(t,{headers:{Referer:"https://www.myvi.ru/"}});if(!s)return{url:t};let e=yield s.text();e.includes("eval(function(p,a,c,k,e,d)")&&(e=C(e));let r=e.match(/["'](?:file|src|url|stream_url)["']\s*:\s*["']([^"']+\.(?:mp4|m3u8)[^"']*)["']/)||e.match(/["'](https?:\/\/[^"']+\.(?:mp4|m3u8)[^"']*)["']/)||e.match(/source\s+src=["']([^"']+\.(?:mp4|m3u8)[^"']*)/);if(r)return{url:r[1],headers:{Referer:"https://www.myvi.ru/"}};let n=t.match(/\/(?:embed\/|watch\/|video\/)([a-zA-Z0-9_-]+)/);if(n){let i=`https://www.myvi.ru/api/video/${n[1]}`,o=yield x(i,{headers:{Referer:t}});if(o){let c=(yield o.text()).match(/["'](?:url|src|file)["']\s*:\s*["']([^"']+\.(?:mp4|m3u8)[^"']*)["']/);if(c)return{url:c[1],headers:{Referer:"https://www.myvi.ru/"}}}}}catch(s){}return{url:t}})}function vt(t){return h(this,null,function*(){try{let s=yield x(t);if(!s)return{url:t};let r=(yield s.text()).match(/file\s*:\s*["']([^"']+\.(?:mp4|m3u8)[^"']*)["']/);if(r)return{url:r[1],headers:{Referer:t}}}catch(s){}return{url:t}})}function F(t,s=0){return h(this,null,function*(){var n;if(s>3)return S(w({},t),{isDirect:!1});let e=t.url,r=e.toLowerCase();if(!e||e.includes("google-analytics")||e.includes("doubleclick"))return null;if(r.match(/\.(mp4|m3u8|mkv|webm)(\?.*)?$/)&&!r.includes("html"))return S(w({},t),{isDirect:!0});try{let i=null;if(r.includes("sibnet.ru")?i=yield lt(e):r.includes("vidmoly.")?i=yield ut(e):r.includes("uqload.")||r.includes("oneupload.")?i=yield ft(e):r.includes("voe.")?i=yield mt(e):r.includes("streamtape.com")||r.includes("stape")?i=yield ht(e):r.includes("dood")||r.includes("ds2play")?i=yield gt(e):r.includes("moonplayer")||r.includes("moon.")?i=yield vt(e):r.includes("sendvid.")?i=yield dt(e):r.includes("myvi.")||r.includes("mytv.")?i=yield $t(e):r.includes("luluvid.")||r.includes("lulu.")?i=yield pt(e):(r.includes("hgcloud.")||r.includes("savefiles."))&&(i=yield wt(e)),i&&i.url!==e)return S(w({},t),{url:i.url,headers:w(w({},t.headers),i.headers||{}),isDirect:!0,originalUrl:e});if(!i||i.url===e){let o=yield x(e,{headers:t.headers});if(o){let l=yield o.text();l.includes("p,a,c,k,e,d")&&(l=C(l));let c=l.match(/https?:\/\/[^"']+\.m3u8[^"']*/)||l.match(/https?:\/\/[^"']+\.mp4[^"']*/)||l.match(/file\s*:\s*["']([^"']+)["']/);if(c){let f=c[1]||c[0];f.startsWith("//")&&(f="https:"+f);let a=f.match(/\.(css|js|html|php|jpg|png|gif|svg)(\?.*)?$/i);f.startsWith("http")&&!f.includes(yt)&&!a&&(i={url:f})}if(!i){let f=l.match(/<iframe\s+[^>]*src=["']([^"']+)["']/i);if(f){let a=f[1];if(a.startsWith("//")&&(a="https:"+a),a.startsWith("/")){let m=(n=e.match(/^https?:\/\/[^\/]+/))==null?void 0:n[0];m&&(a=m+a)}if(a.startsWith("http")&&a!==e)return console.log(`[Resolver] Peeling: Found nested iframe -> ${a}`),yield F(S(w({},t),{url:a}),s+1)}}}}if(i&&i.url!==e&&i.url.startsWith("http"))return S(w({},t),{url:i.url,headers:w(w({},t.headers),i.headers||{}),isDirect:!0,originalUrl:e})}catch(i){}return S(w({},t),{isDirect:!1})})}var yt="googletagmanager";var xt="https://arm.haglund.dev/api/v2";var bt="https://v3-cinemeta.strem.io";function L(e){return h(this,arguments,function*(t,s={}){try{let r=new AbortController,n=setTimeout(()=>r.abort(),8e3),i=yield fetch(t,S(w({},s),{signal:r.signal}));return clearTimeout(n),i}catch(r){return console.error(`[ArmSync] Fetch failed: ${t}`,r.message),null}})}function B(t,s){return h(this,null,function*(){if(!t)return null;let e=yield L(`${xt}/themoviedb?id=${t}`);if(e)try{let i=yield e.json(),o=Array.isArray(i)?i[0]:i;if(o&&o.imdb)return o.imdb}catch(i){}let r=`https://www.themoviedb.org/${s==="movie"?"movie":"tv"}/${t}`,n=yield L(r);if(n){let o=(yield n.text()).match(/imdb\.com\/title\/(tt\d+)/);if(o)return o[1]}return null})}function z(t,s,e){return h(this,null,function*(){var f;if(!t||s===0)return null;let r=yield L(`${bt}/meta/series/${t}.json`);if(!r)return null;let n=yield r.json();if(!((f=n==null?void 0:n.meta)!=null&&f.videos))return null;let i=n.meta.videos.filter(a=>a.season>0&&a.episode>0).sort((a,m)=>a.season-m.season||a.episode-m.episode),o=[],l=new Set;for(let a of i){let m=`${a.season}-${a.episode}`;l.has(m)||(l.add(m),o.push(a))}let c=o.findIndex(a=>a.season==s&&a.episode==e);if(c!==-1){let a=c+1;return console.log(`[ArmSync] Resolved: S${s}E${e} -> Absolute ${a}`),a}return null})}var O="8265bd1679663a7ea12ac168da84d2e8",K="https://api.themoviedb.org/3";function G(t){return h(this,null,function*(){try{let s=new AbortController,e=setTimeout(()=>s.abort(),8e3),r=yield fetch(t,{headers:{"User-Agent":"Mozilla/5.0",Accept:"application/json"},signal:s.signal});return clearTimeout(e),r.ok?r:null}catch(s){return null}})}function J(t,s){return h(this,null,function*(){var n,i,o,l,c,f;let e=s==="movie"?"movie":"tv",r=[];try{let a=`${K}/${e}/${t}?api_key=${O}&language=en-US`,m=yield G(a);if(m){let g=yield m.json(),p=(n=e==="movie"?g.title:g.name)==null?void 0:n.trim(),u=(i=e==="movie"?g.original_title:g.original_name)==null?void 0:i.trim();p&&r.push(p),u&&u!==p&&/^[\x00-\x7F\u00C0-\u024F\s]+$/.test(u)&&r.push(u)}let y=`${K}/${e}/${t}/translations?api_key=${O}`,d=yield G(y);if(d){let p=((yield d.json()).translations||[]).find($=>$.iso_639_1==="fr"),u=((l=(o=p==null?void 0:p.data)==null?void 0:o.name)==null?void 0:l.trim())||((f=(c=p==null?void 0:p.data)==null?void 0:c.title)==null?void 0:f.trim());u&&!r.includes(u)&&r.push(u)}}catch(a){console.error(`[Metadata] TMDB API error: ${a.message}`)}return console.log(`[Metadata] Titles for ${t}: ${r.join(" | ")}`),r})}var _="https://v6.voiranime.com";function Y(t){return t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[':!.,?]/g,"").replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}var At=/(?:chronicle|ova|oav|gaiden|film|movie|lost-girls|kakusei|zenpen|kouhen|specials?|hors-serie|memories|recap|recaps|compilation)(?:-|$)/i;function St(t){let s=t.match(/\/anime\/([^/]+)\//);if(!s)return null;let e=s[1];return At.test(e)?null:e.replace(/-(?:the-final-season|saison-\d+|\d+|vf|vostfr|part-\d+|cour-\d+)(?:-(?:vf|vostfr))?$/i,"").replace(/-+$/,"")}function Rt(t,s=1){return h(this,null,function*(){let e=Y(t),r=e.startsWith("the-")?e.substring(4):e,n=[];s===1?(n.push(e,r),n.push(`${e}-1`,`${e}-1-vostfr`,`${e}-saison-1`,`${e}-vf`,`${e}-1-vf`)):n.push(`${e}-${s}`,`${e}-${s}-vostfr`,`${e}-${s}-vf`,`${e}-saison-${s}`,`${e}-the-final-season`,e,r);let i=Y(t.replace(/'s/gi,""));i!==e&&n.push(i);let o=[...new Set(n.filter(Boolean))];console.log(`[VoirAnime] Probing slugs (S${s}): ${o.join(", ")}`);let l=[];for(let c of o){let f=`${_}/anime/${c}/`;try{yield E(f,{method:"HEAD"}),console.log(`[VoirAnime] Predicted slug found: ${c}`),l.push({title:t+(c.includes("vostfr")?" VOSTFR":c.includes("vf")?" VF":""),url:f})}catch(a){}}if(l.length>0)return l;try{let c=`${_}/?s=${encodeURIComponent(t)}`,f=yield E(c),a=q.default.load(f),m=[];if(a(".post-title a, .c-image-hover a, h3.h5 a").each((u,$)=>{let v=a($).attr("href")||"";v.includes("/anime/")&&!v.includes("/feed/")&&m.push({title:a($).text().trim(),url:v})}),console.log(`[VoirAnime] Search results: ${m.length}`),m.length===0)return[];let y=[...new Set(m.map(u=>St(u.url)).filter(Boolean))];for(let u of y){let $=s===1?[u,`${u}-vf`,`${u}-1`,`${u}-1-vostfr`,`${u}-1-vf`]:[`${u}-${s}`,`${u}-${s}-vostfr`,`${u}-${s}-vf`,`${u}-saison-${s}`];for(let v of $){let R=`${_}/anime/${v}/`;try{return yield E(R,{method:"HEAD"}),console.log(`[VoirAnime] Derived slug found: ${v}`),[{title:t,url:R}]}catch(M){}}}let d=u=>u.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[':!.,?]/g,"").replace(/\bthe\s+/g,"").replace(/\s+/g," ").trim(),g=d(t),p=m.map(u=>{let $=u.url.toLowerCase(),v=0;if(s===1){let R=$.match(/\/anime\/[^/]+-(?:saison-)?(\d+)(?:-vf|-vostfr)?\//),M=R?parseInt(R[1]):null;M&&M>1?v-=10:M||(v+=5)}else $.includes(`-${s}-`)||$.includes(`-${s}/`)||$.includes(`-saison-${s}`)?v+=10:$.includes(`-${s}`)&&(v+=5);return d(u.title).includes(g)&&(v+=3),S(w({},u),{score:v})}).filter(u=>u.score>=0).sort((u,$)=>$.score-u.score);return p.length>0?(console.log(`[VoirAnime] Best search match (score=${p[0].score}): ${p[0].url}`),p):m}catch(c){return console.error(`[VoirAnime] Search error: ${c.message}`),[]}})}function Z(t,s,e,r){return h(this,null,function*(){let n=yield J(t,s);if(n.length===0)return[];let i=[r];try{let a=yield B(t,s);if(a){let m=yield z(a,e,r);m&&m!==r&&i.push(m)}}catch(a){console.warn(`[VoirAnime] ArmSync failed: ${a.message}`)}let o=[];for(let a of n)if(o=yield Rt(a,e),o&&o.length>0)break;if(!o||o.length===0)return[];o=o.sort((a,m)=>{let y=a.title.toLowerCase(),d=m.title.toLowerCase(),g=`saison ${e}`,p=y.includes(g),u=d.includes(g);return p&&!u?-1:!p&&u?1:0});let l=[],c=new Set;for(let a of o){if(c.has(a.url))continue;c.add(a.url);let m=a.title.toLowerCase(),y=a.url,d=a.title.toUpperCase().includes("VF")||y.includes("-vf")?"VF":"VOSTFR",g=m.match(/saison\s*(\d+)/);if(!(g&&parseInt(g[1])!==e&&i.length===1))try{let p=yield E(y),u=q.default.load(p),$=["","0","00"],v=[];for(let k of i){let b=k.toString();$.forEach(A=>v.push(A+b))}let R=null;if(u(".listing-chapters a, .list-chapter a, .wp-manga-chapter a").each((k,b)=>{let A=u(b).text().trim(),U=u(b).attr("href");for(let T of v){let D=new RegExp(`(?:^|[^0-9])${T}(?:$|[^0-9])`,"i");if(D.test(A)||D.test(U))return R=U,!1}}),!R)continue;let M=yield E(R),V=q.default.load(M),I=[];if(V('[name="host"] option, .host-select option').each((k,b)=>{let A=V(b).val();A&&A!=="Choisir un lecteur"&&I.push(A)}),I.length===0){let k=null;if(V("iframe").each((b,A)=>{let U=V(A).attr("src")||"";if(U.startsWith("http")&&!U.includes("voiranime.com"))return k=U,!1}),k){let b=yield F({name:`VoirAnime (${d})`,title:`Default Player - ${d}`,quality:"HD",url:k,headers:{Referer:_}});b&&l.push(b)}}else for(let k of I)try{let b=`${R}${R.includes("?")?"&":"?"}host=${encodeURIComponent(k)}`,A=yield E(b),U=A.match(/<iframe[^>]+src=["'](https?:\/\/[^"']+)["']/i),T=U?U[1]:null;if(!T){let D=A.match(/https?:\/\/[^"'\s<>]+\/(?:embed|e|v|player)\/[^"'\s<>]+/);D&&!D[0].includes("voiranime.com")&&(T=D[0])}if(T){let D=yield F({name:`VoirAnime (${d})`,title:`${k} - ${d}`,url:T,quality:"HD",headers:{Referer:_}});D&&l.push(D)}}catch(b){}}catch(p){}}let f=l.filter(a=>a&&a.isDirect);return console.log(`[VoirAnime] Total streams found: ${f.length}`),f.sort((a,m)=>{let y=p=>p&&(p.toUpperCase().includes("VF")||p.toUpperCase().includes("FRENCH")),d=y(a.name)||y(a.title),g=y(m.name)||y(m.title);return d&&!g?-1:!d&&g?1:0}),f})}function kt(t,s,e,r){return h(this,null,function*(){console.log(`[VoirAnime] Request: ${s} ${t} S${e}E${r}`);try{return yield Z(t,s,e,r)}catch(n){return console.error("[VoirAnime] Error:",n),[]}})}module.exports={getStreams:kt};
